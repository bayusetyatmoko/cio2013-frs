<form action="/dosen/create" method="POST" id="form-new" class="form-bayuz">
	<h2 class="form-signin-heading">Tambah Data Dosen</h2>
	
	<div class="form-group">
	<label for="txtnip">NIP</label>
	<input type="text" class="form-control" placeholder="NIP Dosen" name="nip" id="txtnip" maxlength=18 onkeypress="return isNumberKey(event)" onchange="cekNIPDouble()">
	</div>

	<div class="form-group">
	<label for="txtnama">Nama</label>
	<input type="text" class="form-control" placeholder="Nama Dosen" name="nama" id="txtnama" maxlength=45>
	</div>
	
	<input type="submit" class="btn btn-lg btn-primary btn-block" value="Tambah"/>
</form>

<script>
	function isNumberKey(evt) {
		var charCode = (evt.which) ? evt.which : event.keyCode
		if (charCode > 31 && (charCode < 48 || charCode > 57))
			return false;
		return true;
	}
	
	function cekNIPDouble() {
		var txtinput = document.getElementById("txtnip");
		var dosenku = [];
		var dosen = <%- JSON.stringify(dosen) %>;
		dosen.forEach(function(getdosen){
			dosenku.push(getdosen.nip);
		});
		if (dosenku.indexOf(txtinput.value) === -1) {
			txtinput.style.background="white";
		} else {
			txtinput.value = '';
			txtinput.placeholder = 'NIP Dosen Sudah Ada!';
			txtinput.style.background="pink";
		}			
	}
</script>

